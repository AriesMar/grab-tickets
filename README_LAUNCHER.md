# 🚀 抢票项目一键启动器使用说明

## 📋 概述

这个启动器提供了多种方式来启动和管理你的抢票项目，包括：

- 🌐 **Web界面启动** - 通过浏览器操作启动项目
- 💻 **命令行启动** - 直接运行Python脚本
- 🐚 **Shell脚本启动** - 使用系统脚本启动
- 🪟 **Windows批处理** - Windows用户专用启动方式

## 🚀 快速开始

### 方式1: 一键启动器（推荐）

```bash
python3 launch.py
```

**特点：**
- ✅ 自动检查依赖和虚拟环境
- ✅ 自动启动Web启动器
- ✅ 自动打开浏览器
- ✅ 智能进程管理
- ✅ 状态监控和清理

### 方式2: 简化Web启动器

```bash
python3 start_web_simple.py
```

**特点：**
- ✅ 简洁的Web界面
- ✅ 基本的启动/停止功能
- ✅ 状态监控
- ✅ 轻量级设计

### 方式3: 完整Web启动器

```bash
python3 start_web.py
```

**特点：**
- ✅ 功能完整的Web界面
- ✅ 详细的系统监控
- ✅ 实时日志查看
- ✅ 资源使用统计
- ✅ 高级进程管理

### 方式4: Shell脚本启动

#### macOS/Linux:
```bash
./start.sh
```

#### Windows:
```cmd
start.bat
```

## 🌐 访问地址

启动成功后，可以访问以下地址：

| 服务 | 地址 | 说明 |
|------|------|------|
| **Web启动器** | http://localhost:8081 | 项目启动管理界面 |
| **抢票系统** | http://localhost:8080 | 抢票任务管理界面 |
| **监控指标** | http://localhost:8001 | Prometheus指标页面 |
| **健康检查** | http://localhost:8081/health | 启动器健康状态 |

## 🎯 使用流程

### 1. 启动启动器
```bash
python3 launch.py
```

### 2. 等待启动完成
系统会自动：
- 检查依赖包
- 创建虚拟环境（如果需要）
- 启动Web启动器
- 打开浏览器

### 3. 在Web界面中操作
- 点击 **"▶️ 启动项目"** 启动抢票系统
- 点击 **"⏹️ 停止项目"** 停止系统
- 查看实时状态和日志

### 4. 使用抢票系统
- 访问 http://localhost:8080 管理抢票任务
- 配置抢票参数
- 监控抢票进度

## 🔧 功能特性

### Web启动器功能
- 🚀 **一键启动** - 点击按钮启动项目
- ⏹️ **安全停止** - 安全停止项目进程
- 📊 **状态监控** - 实时显示项目状态
- 🔄 **自动刷新** - 自动更新状态信息
- 📱 **响应式设计** - 支持各种设备

### 系统管理功能
- 🔍 **依赖检查** - 自动检查并安装依赖
- 🐍 **虚拟环境** - 自动创建和管理虚拟环境
- 📁 **进程管理** - 智能管理项目进程
- 🧹 **资源清理** - 自动清理系统资源
- 🌐 **浏览器集成** - 自动打开Web界面

### 监控和诊断
- 📈 **实时状态** - 项目运行状态监控
- 💾 **资源使用** - CPU、内存使用情况
- 📝 **日志查看** - 系统运行日志
- 🔌 **端口监控** - 服务端口状态
- 🏥 **健康检查** - 系统健康状态

## 📱 界面预览

### 主界面
- 🎨 现代化渐变设计
- 🎯 直观的操作按钮
- 📊 实时状态显示
- 📱 移动端友好

### 状态面板
- 🟢 运行状态指示
- 📈 资源使用统计
- ⏱️ 运行时间显示
- 🔌 端口占用信息

### 操作面板
- ▶️ 启动项目按钮
- ⏹️ 停止项目按钮
- 🔄 状态刷新按钮
- 📋 使用说明

## ⚠️ 注意事项

### 系统要求
- **Python版本**: Python 3.7+
- **操作系统**: macOS, Linux, Windows
- **权限要求**: 需要进程管理权限
- **网络要求**: 本地访问，无需外网

### 端口占用
- **8081**: Web启动器端口
- **8080**: 抢票系统端口
- **8001**: 监控指标端口

确保这些端口未被其他程序占用。

### 依赖管理
启动器会自动检查和安装必要的依赖包：
- `fastapi` - Web框架
- `uvicorn` - ASGI服务器
- `psutil` - 系统监控（完整版）

## 🐛 故障排除

### 常见问题

#### 1. 端口被占用
```
错误: Address already in use
解决: 
- 停止占用端口的程序
- 修改启动器中的端口号
- 使用 lsof -i :8081 查看端口占用
```

#### 2. 依赖包缺失
```
错误: ModuleNotFoundError
解决: 
- 手动安装: pip install fastapi uvicorn
- 检查虚拟环境是否正确激活
- 重新创建虚拟环境
```

#### 3. 权限不足
```
错误: Permission denied
解决: 
- 使用 sudo 运行（Linux/macOS）
- 检查文件权限
- 确保有进程管理权限
```

#### 4. 虚拟环境问题
```
错误: No module named 'venv'
解决: 
- 重新创建虚拟环境: python3 -m venv venv
- 激活虚拟环境: source venv/bin/activate
- 安装依赖: pip install -r requirements.txt
```

### 调试技巧

#### 查看日志
```bash
# 查看启动器日志
tail -f logs/startup.log

# 查看项目日志
tail -f logs/*.log
```

#### 检查进程
```bash
# 查看Python进程
ps aux | grep python

# 查看端口占用
lsof -i :8081
lsof -i :8080
lsof -i :8001
```

#### 手动启动
```bash
# 手动启动Web启动器
python3 start_web_simple.py

# 手动启动项目
source venv/bin/activate && python3 main.py
```

## 🔄 更新和维护

### 自动更新
- 状态自动刷新（每5秒）
- 依赖包自动检查
- 进程状态实时监控

### 手动维护
- 定期清理日志文件
- 更新依赖包版本
- 检查虚拟环境状态
- 清理临时文件

### 版本管理
- 保持启动器与项目同步
- 定期备份配置文件
- 记录版本变更历史

## 📞 技术支持

### 获取帮助
1. 查看本文档的故障排除部分
2. 检查系统日志和错误信息
3. 确认系统环境和依赖版本
4. 尝试手动启动和调试

### 报告问题
如果遇到问题，请提供：
- 操作系统和Python版本
- 错误信息和日志
- 复现步骤
- 系统环境信息

## 🎉 总结

这个一键启动器提供了：

- 🚀 **简单易用** - 一键启动，无需复杂配置
- 🌐 **Web操作** - 通过浏览器管理项目
- 🔧 **智能管理** - 自动处理依赖和环境
- 📊 **状态监控** - 实时了解系统状态
- 🧹 **资源清理** - 自动清理和优化

**开始使用：**
```bash
python3 launch.py
```

**享受便捷的项目管理体验！** 🎯
