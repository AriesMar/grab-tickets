# 🚀 抢票项目Web启动器使用说明

## 📋 功能特性

这个Web启动器提供了以下功能：

- ✅ **一键启动项目** - 通过Web界面启动抢票项目
- ✅ **项目状态监控** - 实时查看项目运行状态、资源使用情况
- ✅ **进程管理** - 启动、停止、重启项目
- ✅ **实时日志** - 查看项目运行日志
- ✅ **自动刷新** - 支持自动刷新状态和日志
- ✅ **响应式设计** - 支持桌面和移动设备

## 🚀 快速开始

### 方法1: 使用启动脚本（推荐）

#### macOS/Linux:
```bash
./start.sh
```

#### Windows:
```cmd
start.bat
```

### 方法2: 手动启动

```bash
# 激活虚拟环境
source venv/bin/activate  # macOS/Linux
# 或
venv\Scripts\activate.bat  # Windows

# 安装依赖
pip install fastapi uvicorn psutil

# 启动Web启动器
python3 start_web.py
```

## 🌐 访问地址

启动成功后，在浏览器中访问：

- **主界面**: http://localhost:8081
- **健康检查**: http://localhost:8081/health

## 🎯 使用说明

### 1. 启动项目
点击 **"▶️ 启动项目"** 按钮，系统会自动：
- 检查虚拟环境
- 启动抢票项目
- 显示启动状态

### 2. 停止项目
点击 **"⏹️ 停止项目"** 按钮，系统会：
- 安全停止项目进程
- 清理相关资源
- 更新状态显示

### 3. 重启项目
点击 **"🔄 重启项目"** 按钮，系统会：
- 先停止当前项目
- 等待2秒后重新启动
- 保持配置不变

### 4. 查看状态
点击 **"📊 刷新状态"** 按钮，可以查看：
- 运行状态（运行中/已停止）
- 进程ID
- 启动时间
- 运行时长
- 内存使用
- CPU使用
- 端口占用

### 5. 查看日志
- 实时查看项目运行日志
- 支持自动刷新（每5秒）
- 手动刷新日志内容

## 🔧 技术架构

### 后端技术栈
- **FastAPI** - 现代、快速的Web框架
- **Uvicorn** - ASGI服务器
- **psutil** - 系统和进程监控
- **subprocess** - 进程管理

### 前端技术栈
- **HTML5** - 语义化标记
- **CSS3** - 现代化样式和动画
- **JavaScript ES6+** - 异步操作和DOM操作
- **响应式设计** - 支持各种设备尺寸

### 核心功能模块
- **StartupManager** - 项目启动管理器
- **ProjectStatus** - 项目状态模型
- **进程监控** - 实时监控项目进程
- **资源统计** - CPU、内存、端口使用情况
- **日志管理** - 日志收集和展示

## 📱 界面预览

### 主界面
- 🎨 现代化渐变设计
- 📱 响应式布局
- 🎯 直观的操作按钮
- 📊 实时状态显示

### 状态面板
- 🟢 运行状态指示
- 📈 资源使用统计
- ⏱️ 运行时间显示
- 🔌 端口占用信息

### 日志面板
- 📝 实时日志流
- 🔄 自动刷新选项
- 📱 移动端友好
- 🎨 代码高亮样式

## ⚠️ 注意事项

1. **权限要求**: 确保有足够的权限启动和管理进程
2. **端口占用**: 默认使用8081端口，确保端口未被占用
3. **虚拟环境**: 建议在虚拟环境中运行
4. **依赖管理**: 自动检查和安装必要的依赖包
5. **进程安全**: 使用进程组管理，确保安全停止

## 🐛 故障排除

### 常见问题

#### 1. 端口被占用
```
错误: Address already in use
解决: 修改start_web.py中的端口号，或停止占用端口的程序
```

#### 2. 依赖包缺失
```
错误: ModuleNotFoundError
解决: 运行 pip install fastapi uvicorn psutil
```

#### 3. 权限不足
```
错误: Permission denied
解决: 使用sudo运行，或检查文件权限
```

#### 4. 虚拟环境问题
```
错误: No module named 'venv'
解决: 重新创建虚拟环境: python3 -m venv venv
```

### 日志查看
如果遇到问题，可以查看：
- 控制台输出
- `logs/startup.log` 文件
- Web界面的日志面板

## 🔄 更新和维护

### 自动更新
- 状态自动刷新（每5秒）
- 日志实时更新
- 资源使用实时监控

### 手动维护
- 定期清理日志文件
- 检查虚拟环境状态
- 更新依赖包版本

## 📞 技术支持

如果遇到问题，请：
1. 查看错误日志
2. 检查系统状态
3. 确认依赖包版本
4. 查看故障排除部分

---

**🎉 享受便捷的项目管理体验！**
